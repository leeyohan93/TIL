# TDD QnA (NextStep)

> Q. TDD 에서 객체를 참조하거나 협력하는 객체애 대한 테스트가 어렵습니다.
- 객체를 참조하고 있는 객체 보다 혼자 독립적으로 사용하는 객체에 대한 테스트가 쉽습니다.
- 객체간의 관계를 무분별하게 맺는 것 보다 필요한 관계만 맺는게 테스트 작성 시 유리합니다.  
  (다른 객체와 관계를 맺는 객체를 테스트하는건 어려운 일)
- 작은 단위의 테스트 (작은 객체) 를 먼저 작성하고 큰 단위에서 작은 단위의 객체를 사용 할때 어떻게하면 결합도를 낮출 수 있을까를 고민합시다. 

> Q. 모든 상황에 대하여 하나의 public 메소드만 테스트하는 코드를 작성하는게 이질감이 듭니다.
- 여러 상황에 대해서 하나의 public 메소드만 테스트하는 것은 아주 자연스러운 현상입니다.
- public 메소드 이지만 가능한 case에 대한 테스트를 작성하기 위해 여러 개의 테스트가 작성 됩니다.  
(ex. int calculate(String oper, int a, int b) 테스트 시 사칙연산 + 오버플로우, 언더플로우 ..)
- 이질감에 대해 이해가 간다. (여러 기능이 혼합되어 있는 메소드의 존재)
    - A 기능 -> B 기능 -> C 기능 -> D 기능으로 이어지는 메소드가 존재했을 때  
    각 기능별로 나올 수 있는 경우의 수가 3가지 라면 테스트해야 할 케이스는 81가지로 늘어납니다.
    - 실제로 81가지의 모든 테스트를 작성하는 것은 현실적으로 불가능하기 때문에    
    보통은 각 기능별로 적절한 객체에 책임을 분배하고 협력하게 한 다음, 각 객체에게 분배된 책임을 테스트를 진행합니다.  
    예를 들어 A 기능 -> B 기능 -> C 기능 -> D 기능 을 4개의 객체로 분리하게 된다면,  
    테스트 해야 할 케이스는 총 12개가 되고, 이 정도는 현실적으로 테스트가 가능합니다.  
    물론 작은 단위의 기능 외에도 각 기능이 잘 연결되었는지 확인하기 위한 통합 테스트 또한 작성해야 합니다.
- **결론적으로 이질감을 느낀다면 객체들에게 책임과 협력을 나누어, 나누어진 책임을 테스트하고,  
  협력이 잘 되는지 대표적인 몇 가지 케이스에 대해서만 테스트하는 방향으로 추천합니다.**
  
